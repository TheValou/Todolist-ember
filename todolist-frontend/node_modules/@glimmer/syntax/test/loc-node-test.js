'use strict';

var _ = require('..');

QUnit.module('[glimmer-syntax] Parser - Location Info');
function assertNodeType(node, type) {
    let nodeType = node && node.type;
    QUnit.assert.pushResult({
        result: nodeType === type,
        actual: nodeType,
        expected: type,
        message: `expected node type to be ${node} but was ${nodeType}`
    });
    return nodeType === type;
}
const { test } = QUnit;
function locEqual(node, startLine, startColumn, endLine, endColumn, message = JSON.stringify(node)) {
    let expected = {
        source: null,
        start: { line: startLine, column: startColumn },
        end: { line: endLine, column: endColumn }
    };
    QUnit.assert.deepEqual(node && node.loc, expected, message);
}
test('programs', () => {
    let ast = (0, _.preprocess)(`
  {{#if foo}}
    {{bar}}
       {{/if}}
    `);
    locEqual(ast, 1, 0, 5, 4, 'outer program');
    let statement = ast.body[1];
    if (assertNodeType(statement, 'BlockStatement')) {
        locEqual(statement.program, 2, 13, 4, 7, 'nested program');
    }
});
test('blocks', function () {
    let ast = (0, _.preprocess)(`
  {{#if foo}}
    {{#if bar}}
        test
        {{else}}
      test
  {{/if    }}
       {{/if
      }}
    `);
    let [, block] = ast.body;
    let [nestedBlock] = block.program.body;
    let [nestedBlockText] = nestedBlock.program.body;
    let nestedInverse = nestedBlock.inverse;
    locEqual(block, 2, 2, 9, 8, 'outer block');
    locEqual(nestedBlock, 3, 4, 7, 13, 'nested block');
    locEqual(nestedBlockText, 4, 0, 5, 0);
    locEqual(nestedInverse, 5, 16, 7, 2);
});
test('mustache', function () {
    let ast = (0, _.preprocess)(`
    {{foo}}
    {{#if foo}}
      bar: {{bar
        }}
    {{/if}}
  `);
    let [, foo,, innerBlock] = ast.body;
    if (assertNodeType(innerBlock, 'BlockStatement')) {
        let [barText, bar] = innerBlock.program.body;
        locEqual(foo, 2, 4, 2, 11, 'outer mustache');
        locEqual(barText, 4, 0, 4, 11);
        locEqual(bar, 4, 11, 5, 10, 'inner mustache');
    }
});
test('element modifier', function () {
    let ast = (0, _.preprocess)(`
    <div {{bind-attr
      foo
      bar=wat}}></div>
  `);
    let el = ast.body[1];
    if (assertNodeType(el, 'ElementNode')) {
        locEqual(el.modifiers[0], 2, 9, 4, 15, 'element modifier');
    }
});
test('html elements', function () {
    let ast = (0, _.preprocess)(`
    <section>
      <br>
      <div>
        <hr />
      </div>
    </section>
  `);
    let [, section] = ast.body;
    locEqual(section, 2, 4, 7, 14, 'section element');
    if (assertNodeType(section, 'ElementNode')) {
        let [, br,, div] = section.children;
        locEqual(br, 3, 6, 3, 10, 'br element');
        locEqual(div, 4, 6, 6, 12, 'div element');
        if (assertNodeType(div, 'ElementNode')) {
            let [, hr] = div.children;
            locEqual(hr, 5, 8, 5, 14, 'hr element');
        }
    }
});
test('html elements with nested blocks', assert => {
    let ast = (0, _.preprocess)(`
    <div>
      {{#if isSingleError}}
        Single error here!
      {{else if errors}}
        Multiple errors here!
      {{else}}
        No errors found!
      {{/if}} <p>Hi there!</p>
    </div>
  `);
    let [, div] = ast.body;
    locEqual(div, 2, 4, 10, 10, 'div element');
    if (assertNodeType(div, 'ElementNode')) {
        let [, ifBlock,, p] = div.children;
        locEqual(ifBlock, 3, 6, 9, 13, 'outer if block');
        locEqual(p, 9, 14, 9, 30, 'p');
        if (assertNodeType(ifBlock, 'BlockStatement')) {
            let inverseBlock = ifBlock.inverse;
            locEqual(inverseBlock, 5, 24, 7, 6, 'inverse block');
            assert.ok(inverseBlock, 'has inverse block');
            if (inverseBlock) {
                let [nestedIfBlock] = inverseBlock.body;
                locEqual(nestedIfBlock, 5, 6, 9, 6, 'nested if block');
                if (assertNodeType(nestedIfBlock, 'BlockStatement')) {
                    let nestedIfInverseBlock = nestedIfBlock.inverse;
                    assert.ok(nestedIfInverseBlock, 'has nested inverse block');
                    if (nestedIfInverseBlock) {
                        locEqual(nestedIfInverseBlock, 7, 14, 9, 6, 'nested inverse block');
                    }
                }
            }
        }
    }
});
test('block + newline + element ', function () {
    let ast = (0, _.preprocess)(`
    {{#if stuff}}
    {{/if}}
    <p>Hi!</p>
  `);
    let [, ifBlock,, p] = ast.body;
    locEqual(ifBlock, 2, 4, 3, 11, 'if block');
    locEqual(p, 4, 4, 4, 14, 'p element');
});
test('mustache + newline + element ', function () {
    let ast = (0, _.preprocess)(`
    {{foo}}
    <p>Hi!</p>
  `);
    let [, fooMustache,, p] = ast.body;
    locEqual(fooMustache, 2, 4, 2, 11, 'if block');
    locEqual(p, 3, 4, 3, 14, 'p element');
});
test('blocks with nested html elements', function () {
    let ast = (0, _.preprocess)(`
    {{#foo-bar}}<div>Foo</div>{{/foo-bar}} <p>Hi!</p>
  `);
    let block = ast.body[1];
    if (assertNodeType(block, 'BlockStatement')) {
        let [div] = block.program.body;
        locEqual(div, 2, 16, 2, 30, 'div element');
    }
    let p = ast.body[3];
    locEqual(p, 2, 43, 2, 53, 'p element');
});
test('html elements after mustache', function () {
    let ast = (0, _.preprocess)(`
    {{foo-bar}} <p>Hi!</p>
  `);
    let [, mustache,, p] = ast.body;
    locEqual(mustache, 2, 4, 2, 15, '{{foo-bar}}');
    locEqual(p, 2, 16, 2, 26, 'div element');
});
test('text', function () {
    let ast = (0, _.preprocess)(`
    foo!
    <div>blah</div>
  `);
    let [fooText, div] = ast.body;
    locEqual(fooText, 1, 0, 3, 4);
    if (assertNodeType(div, 'ElementNode')) {
        let [blahText] = div.children;
        locEqual(blahText, 3, 9, 3, 13);
    }
});
test('comment', function () {
    let ast = (0, _.preprocess)(`
    <div><!-- blah blah blah blah -->
      <!-- derp herky --><div></div>
    </div>
  `);
    let [, div] = ast.body;
    if (assertNodeType(div, 'ElementNode')) {
        let [comment1,, comment2, trailingDiv] = div.children;
        locEqual(comment1, 2, 9, 2, 37);
        locEqual(comment2, 3, 6, 3, 25);
        locEqual(trailingDiv, 3, 25, 3, 36);
    }
});
test('handlebars comment', function () {
    let ast = (0, _.preprocess)(`
    <div>{{!-- blah blah blah blah --}}
      {{!-- derp herky --}}<div></div>
    </div>
    <span {{! derpy }}></span>
  `);
    let [, div,, span] = ast.body;
    if (assertNodeType(div, 'ElementNode')) {
        let [comment1,, comment2, trailingDiv] = div.children;
        locEqual(comment1, 2, 9, 2, 39);
        locEqual(comment2, 3, 6, 3, 27);
        locEqual(trailingDiv, 3, 27, 3, 38);
        if (assertNodeType(span, 'ElementNode')) {
            let [comment3] = span.comments;
            locEqual(span, 5, 4, 5, 30);
            locEqual(comment3, 5, 10, 5, 22);
        }
    }
});
test('element attribute', function () {
    let ast = (0, _.preprocess)(`
    <div data-foo="blah"
      data-derp="lolol"
data-barf="herpy"
  data-qux=lolnoquotes
        data-something-boolean
    data-hurky="some {{thing}} here">
      Hi, fivetanley!
    </div>
  `);
    let [, div] = ast.body;
    if (assertNodeType(div, 'ElementNode')) {
        let [dataFoo, dataDerp, dataBarf, dataQux, dataSomethingBoolean, dataHurky] = div.attributes;
        locEqual(dataFoo, 2, 9, 2, 24, 'data-foo');
        locEqual(dataDerp, 3, 6, 3, 23, 'data-derp');
        locEqual(dataBarf, 4, 0, 4, 17, 'data-barf');
        locEqual(dataQux, 5, 2, 5, 22, 'data-qux');
        locEqual(dataSomethingBoolean, 6, 8, 7, 4, 'data-something-boolean');
        locEqual(dataFoo.value, 2, 18, 2, 24, 'data-foo value');
        locEqual(dataDerp.value, 3, 16, 3, 23, 'data-derp value');
        locEqual(dataBarf.value, 4, 10, 4, 17, 'data-barf value');
        locEqual(dataQux.value, 5, 11, 5, 22, 'data-qux value');
        locEqual(dataHurky.value, 7, 15, 7, 36, 'data-hurky value');
    }
});
test('element dynamic attribute', function () {
    let ast = (0, _.preprocess)(`<img src={{blah}}>`);
    let [img] = ast.body;
    if (assertNodeType(img, 'ElementNode')) {
        let [src] = img.attributes;
        locEqual(src, 1, 5, 1, 17);
        let { value } = src;
        locEqual(value, 1, 9, 1, 17);
    }
});
test('concat statement', function () {
    let ast = (0, _.preprocess)(`
    <div data-foo="{{if foo
        "active"
    "inactive"
  }}
derp"
  data-bar="
foo"
  data-derp="foo
{{concat ''}}
    huzzah"
    ></div>
  `);
    let [, div] = ast.body;
    if (assertNodeType(div, 'ElementNode')) {
        let [dataFoo, dataBar, dataDerp] = div.attributes;
        let dataFooValue = dataFoo.value;
        let dataBarValue = dataBar.value;
        let dataDerpValue = dataDerp.value;
        locEqual(dataFoo, 2, 9, 6, 5);
        locEqual(dataBar, 7, 2, 8, 4);
        locEqual(dataBarValue, 7, 11, 8, 4);
        locEqual(dataDerpValue, 9, 12, 11, 11);
        locEqual(dataFooValue, 2, 18, 6, 5);
        if (assertNodeType(dataFooValue, 'ConcatStatement')) {
            let [inlineIf, staticDerpText] = dataFooValue.parts;
            locEqual(inlineIf, 2, 19, 5, 4);
            locEqual(staticDerpText, 5, 4, 6, 4);
        }
        if (assertNodeType(dataDerpValue, 'ConcatStatement')) {
            let [fooStaticText, concat, huzzahStaticText] = dataDerpValue.parts;
            locEqual(fooStaticText, 9, 14, 10, 0);
            locEqual(concat, 10, 0, 10, 13);
            locEqual(huzzahStaticText, 10, 13, 11, 10);
        }
    }
});
test('char references', function () {
    let ast = (0, _.preprocess)(`
    &gt;<div>&lt;<p>
      Hi, danmcclain &excl;</p>
    </div>
  `);
    let [, div] = ast.body;
    locEqual(div, 2, 8, 4, 10);
    if (assertNodeType(div, 'ElementNode')) {
        let [text1, p] = div.children;
        locEqual(text1, 2, 13, 2, 17);
        locEqual(p, 2, 17, 3, 31);
        if (assertNodeType(p, 'ElementNode')) {
            let [text2] = p.children;
            locEqual(text2, 2, 20, 3, 27);
        }
    }
});
test('whitespace control - trailing', function () {
    let ast = (0, _.preprocess)(`
  {{#if foo~}}
    <div></div>
  {{else~}}
    {{bar}}
  {{/if}}`);
    let [, ifBlock] = ast.body;
    locEqual(ifBlock, 2, 2, 6, 9, 'if block');
    if (assertNodeType(ifBlock, 'BlockStatement')) {
        let [div] = ifBlock.program.body;
        locEqual(div, 3, 4, 3, 15, 'div inside truthy if block');
    }
});
test("whitespace control - 'else if' trailing", function () {
    let ast = (0, _.preprocess)(`
  {{#if foo}}
    {{bar}}
  {{else if baz~}}
    <div></div>
  {{/if}}`);
    let [, ifBlock] = ast.body;
    locEqual(ifBlock, 2, 2, 6, 9, 'if block');
    if (assertNodeType(ifBlock, 'BlockStatement') && assertNodeType(ifBlock.inverse, 'Program')) {
        let [nestedIfBlock] = ifBlock.inverse.body;
        if (assertNodeType(nestedIfBlock, 'BlockStatement') && assertNodeType(nestedIfBlock.program, 'Program')) {
            let [div] = nestedIfBlock.program.body;
            locEqual(div, 5, 4, 5, 15, 'div inside truthy else if block');
        }
    }
});
test('whitespace control - leading', function () {
    let ast = (0, _.preprocess)(`
  {{~#if foo}}
    <div></div>
  {{~else}}
    {{bar}}
  {{~/if}}`);
    let [ifBlock] = ast.body;
    locEqual(ifBlock, 2, 2, 6, 10, 'if block');
    if (assertNodeType(ifBlock, 'BlockStatement')) {
        let [, div] = ifBlock.program.body;
        locEqual(div, 3, 4, 3, 15, 'div inside truthy if block');
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jLW5vZGUtdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL3N5bnRheC90ZXN0L2xvYy1ub2RlLXRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxBQUFPLEFBQUUsQUFBVSxBQUFJLEFBQUssQUFBTyxBQUFNLEFBQUksQUFBQzs7QUFFOUMsQUFBSyxNQUFDLEFBQU0sT0FBQyxBQUF5QyxBQUFDLEFBQUM7QUFFeEQsd0JBQ0UsQUFBaUMsTUFDakMsQUFBTztBQUVQLFFBQUksQUFBUSxXQUFHLEFBQUksUUFBSSxBQUFJLEtBQUMsQUFBSSxBQUFDO0FBQ2pDLEFBQUssVUFBQyxBQUFNLE9BQUMsQUFBVTtBQUNyQixBQUFNLGdCQUFFLEFBQVEsYUFBSyxBQUFJO0FBQ3pCLEFBQU0sZ0JBQUUsQUFBUTtBQUNoQixBQUFRLGtCQUFFLEFBQUk7QUFDZCxBQUFPLEFBQUUsNkNBQTRCLEFBQUksZ0JBQVksQUFBUSxRQUFFLEFBQ2hFLEFBQUMsQUFBQztBQUxxQjtBQU14QixXQUFPLEFBQVEsYUFBSyxBQUFJLEFBQUMsQUFDM0I7QUFBQztBQUVELE1BQU0sRUFBRSxBQUFJLEFBQUUsU0FBRyxBQUFLLEFBQUM7QUFFdkIsa0JBQ0UsQUFBaUMsTUFDakMsQUFBaUIsV0FDakIsQUFBbUIsYUFDbkIsQUFBZSxTQUNmLEFBQWlCLFdBQ2pCLEFBQU8sVUFBRyxBQUFJLEtBQUMsQUFBUyxVQUFDLEFBQUksQUFBQztBQUU5QixRQUFJLEFBQVE7QUFDVixBQUFNLGdCQUFFLEFBQUk7QUFDWixBQUFLLGVBQUUsRUFBRSxBQUFJLE1BQUUsQUFBUyxXQUFFLEFBQU0sUUFBRSxBQUFXLEFBQUU7QUFDL0MsQUFBRyxhQUFFLEVBQUUsQUFBSSxNQUFFLEFBQU8sU0FBRSxBQUFNLFFBQUUsQUFBUyxBQUFFLEFBQzFDLEFBQUM7QUFKYTtBQU1mLEFBQUssVUFBQyxBQUFNLE9BQUMsQUFBUyxVQUFDLEFB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QUFBRSxJQUFFLEFBQWlDLEFBQUMsQUFBQztBQUMvRDtBQUNGLEFBQ0g7QUFBQyxBQUFDLEFBQUM7QUFFSCxBQUFJLEtBQUMsQUFBOEIsZ0NBQUU7QUFDbkMsUUFBSSxBQUFHLHdCQUtFLEFBQUMsQUFBQzs7Ozs7V0FMRCxBQUFLLEFBQUM7QUFPaEIsUUFBSSxDQUFDLEFBQU8sQUFBQyxXQUFHLEFBQUcsSUFBQyxBQUFJLEFBQUM7QUFDekIsQUFBUSxhQUFDLEFBQU8sU0FBRSxBQUFDLEdBQUUsQUFBQyxHQUFFLEFBQUMsR0FBRSxBQUFFLElBQUUsQUFBVSxBQUFDLEFBQUM7QUFDM0MsUUFBSSxBQUFjLGVBQUMsQUFBTyxTQUFFLEFBQWdCLEFBQUMsbUJBQUU7QUFDN0MsWUFBSSxBQUFDLEdBQUUsQUFBRyxBQUFDLE9BQUcsQUFBTyxRQUFDLEFBQU8sUUFBQyxBQUFJLEFBQUM7QUFDbkMsQUFBUSxpQkFBQyxBQUFHLEtBQUUsQUFBQyxHQUFFLEFBQUMsR0FBRSxBQUFDLEdBQUUsQUFBRSxJQUFFLEFBQTRCLEFBQUMsQUFBQztBQUMxRCxBQUNIO0FBQUMsQUFBQyxBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJlcHJvY2VzcyBhcyBwYXJzZSwgQVNUIH0gZnJvbSAnLi4nO1xuXG5RVW5pdC5tb2R1bGUoJ1tnbGltbWVyLXN5bnRheF0gUGFyc2VyIC0gTG9jYXRpb24gSW5mbycpO1xuXG5mdW5jdGlvbiBhc3NlcnROb2RlVHlwZTxUIGV4dGVuZHMga2V5b2YgQVNULk5vZGVzPihcbiAgbm9kZTogQVNULk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICB0eXBlOiBUXG4pOiBub2RlIGlzIEFTVC5Ob2Rlc1tUXSB7XG4gIGxldCBub2RlVHlwZSA9IG5vZGUgJiYgbm9kZS50eXBlO1xuICBRVW5pdC5hc3NlcnQucHVzaFJlc3VsdCh7XG4gICAgcmVzdWx0OiBub2RlVHlwZSA9PT0gdHlwZSxcbiAgICBhY3R1YWw6IG5vZGVUeXBlLFxuICAgIGV4cGVjdGVkOiB0eXBlLFxuICAgIG1lc3NhZ2U6IGBleHBlY3RlZCBub2RlIHR5cGUgdG8gYmUgJHtub2RlfSBidXQgd2FzICR7bm9kZVR5cGV9YCxcbiAgfSk7XG4gIHJldHVybiBub2RlVHlwZSA9PT0gdHlwZTtcbn1cblxuY29uc3QgeyB0ZXN0IH0gPSBRVW5pdDtcblxuZnVuY3Rpb24gbG9jRXF1YWwoXG4gIG5vZGU6IEFTVC5Ob2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgc3RhcnRMaW5lOiBudW1iZXIsXG4gIHN0YXJ0Q29sdW1uOiBudW1iZXIsXG4gIGVuZExpbmU6IG51bWJlcixcbiAgZW5kQ29sdW1uOiBudW1iZXIsXG4gIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShub2RlKVxuKSB7XG4gIGxldCBleHBlY3RlZCA9IHtcbiAgICBzb3VyY2U6IG51bGwsXG4gICAgc3RhcnQ6IHsgbGluZTogc3RhcnRMaW5lLCBjb2x1bW46IHN0YXJ0Q29sdW1uIH0sXG4gICAgZW5kOiB7IGxpbmU6IGVuZExpbmUsIGNvbHVtbjogZW5kQ29sdW1uIH0sXG4gIH07XG5cbiAgUVVuaXQuYXNzZXJ0LmRlZXBFcXVhbChub2RlICYmIG5vZGUubG9jLCBleHBlY3RlZCwgbWVzc2FnZSk7XG59XG5cbnRlc3QoJ3Byb2dyYW1zJywgKCkgPT4ge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICB7eyNpZiBmb299fVxuICAgIHt7YmFyfX1cbiAgICAgICB7ey9pZn19XG4gICAgYCk7XG5cbiAgbG9jRXF1YWwoYXN0LCAxLCAwLCA1LCA0LCAnb3V0ZXIgcHJvZ3JhbScpO1xuICBsZXQgc3RhdGVtZW50ID0gYXN0LmJvZHlbMV07XG4gIGlmIChhc3NlcnROb2RlVHlwZShzdGF0ZW1lbnQsICdCbG9ja1N0YXRlbWVudCcpKSB7XG4gICAgbG9jRXF1YWwoc3RhdGVtZW50LnByb2dyYW0sIDIsIDEzLCA0LCA3LCAnbmVzdGVkIHByb2dyYW0nKTtcbiAgfVxufSk7XG5cbnRlc3QoJ2Jsb2NrcycsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICB7eyNpZiBmb299fVxuICAgIHt7I2lmIGJhcn19XG4gICAgICAgIHRlc3RcbiAgICAgICAge3tlbHNlfX1cbiAgICAgIHRlc3RcbiAge3svaWYgICAgfX1cbiAgICAgICB7ey9pZlxuICAgICAgfX1cbiAgICBgKTtcblxuICBsZXQgWywgYmxvY2tdID0gYXN0LmJvZHkgYXMgW2FueSwgQVNULkJsb2NrU3RhdGVtZW50XTtcbiAgbGV0IFtuZXN0ZWRCbG9ja10gPSBibG9jay5wcm9ncmFtLmJvZHkgYXMgW0FTVC5CbG9ja1N0YXRlbWVudF07XG4gIGxldCBbbmVzdGVkQmxvY2tUZXh0XSA9IG5lc3RlZEJsb2NrLnByb2dyYW0uYm9keTtcbiAgbGV0IG5lc3RlZEludmVyc2UgPSBuZXN0ZWRCbG9jay5pbnZlcnNlO1xuXG4gIGxvY0VxdWFsKGJsb2NrLCAyLCAyLCA5LCA4LCAnb3V0ZXIgYmxvY2snKTtcbiAgbG9jRXF1YWwobmVzdGVkQmxvY2ssIDMsIDQsIDcsIDEzLCAnbmVzdGVkIGJsb2NrJyk7XG4gIGxvY0VxdWFsKG5lc3RlZEJsb2NrVGV4dCwgNCwgMCwgNSwgMCk7XG4gIGxvY0VxdWFsKG5lc3RlZEludmVyc2UgYXMgQVNULk5vZGUsIDUsIDE2LCA3LCAyKTtcbn0pO1xuXG50ZXN0KCdtdXN0YWNoZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIHt7Zm9vfX1cbiAgICB7eyNpZiBmb299fVxuICAgICAgYmFyOiB7e2JhclxuICAgICAgICB9fVxuICAgIHt7L2lmfX1cbiAgYCk7XG5cbiAgbGV0IFssIGZvbywgLCBpbm5lckJsb2NrXSA9IGFzdC5ib2R5O1xuXG4gIGlmIChhc3NlcnROb2RlVHlwZShpbm5lckJsb2NrLCAnQmxvY2tTdGF0ZW1lbnQnKSkge1xuICAgIGxldCBbYmFyVGV4dCwgYmFyXSA9IGlubmVyQmxvY2sucHJvZ3JhbS5ib2R5O1xuXG4gICAgbG9jRXF1YWwoZm9vLCAyLCA0LCAyLCAxMSwgJ291dGVyIG11c3RhY2hlJyk7XG4gICAgbG9jRXF1YWwoYmFyVGV4dCwgNCwgMCwgNCwgMTEpO1xuICAgIGxvY0VxdWFsKGJhciwgNCwgMTEsIDUsIDEwLCAnaW5uZXIgbXVzdGFjaGUnKTtcbiAgfVxufSk7XG5cbnRlc3QoJ2VsZW1lbnQgbW9kaWZpZXInLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2IHt7YmluZC1hdHRyXG4gICAgICBmb29cbiAgICAgIGJhcj13YXR9fT48L2Rpdj5cbiAgYCk7XG5cbiAgbGV0IGVsID0gYXN0LmJvZHlbMV07XG4gIGlmIChhc3NlcnROb2RlVHlwZShlbCwgJ0VsZW1lbnROb2RlJykpIHtcbiAgICBsb2NFcXVhbChlbC5tb2RpZmllcnNbMF0sIDIsIDksIDQsIDE1LCAnZWxlbWVudCBtb2RpZmllcicpO1xuICB9XG59KTtcblxudGVzdCgnaHRtbCBlbGVtZW50cycsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIDxzZWN0aW9uPlxuICAgICAgPGJyPlxuICAgICAgPGRpdj5cbiAgICAgICAgPGhyIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gIGApO1xuXG4gIGxldCBbLCBzZWN0aW9uXSA9IGFzdC5ib2R5O1xuICBsb2NFcXVhbChzZWN0aW9uLCAyLCA0LCA3LCAxNCwgJ3NlY3Rpb24gZWxlbWVudCcpO1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoc2VjdGlvbiwgJ0VsZW1lbnROb2RlJykpIHtcbiAgICBsZXQgWywgYnIsICwgZGl2XSA9IHNlY3Rpb24uY2hpbGRyZW47XG4gICAgbG9jRXF1YWwoYnIsIDMsIDYsIDMsIDEwLCAnYnIgZWxlbWVudCcpO1xuICAgIGxvY0VxdWFsKGRpdiwgNCwgNiwgNiwgMTIsICdkaXYgZWxlbWVudCcpO1xuICAgIGlmIChhc3NlcnROb2RlVHlwZShkaXYsICdFbGVtZW50Tm9kZScpKSB7XG4gICAgICBsZXQgWywgaHJdID0gZGl2LmNoaWxkcmVuO1xuXG4gICAgICBsb2NFcXVhbChociwgNSwgOCwgNSwgMTQsICdociBlbGVtZW50Jyk7XG4gICAgfVxuICB9XG59KTtcblxudGVzdCgnaHRtbCBlbGVtZW50cyB3aXRoIG5lc3RlZCBibG9ja3MnLCBhc3NlcnQgPT4ge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIDxkaXY+XG4gICAgICB7eyNpZiBpc1NpbmdsZUVycm9yfX1cbiAgICAgICAgU2luZ2xlIGVycm9yIGhlcmUhXG4gICAgICB7e2Vsc2UgaWYgZXJyb3JzfX1cbiAgICAgICAgTXVsdGlwbGUgZXJyb3JzIGhlcmUhXG4gICAgICB7e2Vsc2V9fVxuICAgICAgICBObyBlcnJvcnMgZm91bmQhXG4gICAgICB7ey9pZn19IDxwPkhpIHRoZXJlITwvcD5cbiAgICA8L2Rpdj5cbiAgYCk7XG5cbiAgbGV0IFssIGRpdl0gPSBhc3QuYm9keTtcbiAgbG9jRXF1YWwoZGl2LCAyLCA0LCAxMCwgMTAsICdkaXYgZWxlbWVudCcpO1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoZGl2LCAnRWxlbWVudE5vZGUnKSkge1xuICAgIGxldCBbLCBpZkJsb2NrLCAsIHBdID0gZGl2LmNoaWxkcmVuO1xuICAgIGxvY0VxdWFsKGlmQmxvY2ssIDMsIDYsIDksIDEzLCAnb3V0ZXIgaWYgYmxvY2snKTtcbiAgICBsb2NFcXVhbChwLCA5LCAxNCwgOSwgMzAsICdwJyk7XG4gICAgaWYgKGFzc2VydE5vZGVUeXBlKGlmQmxvY2ssICdCbG9ja1N0YXRlbWVudCcpKSB7XG4gICAgICBsZXQgaW52ZXJzZUJsb2NrID0gaWZCbG9jay5pbnZlcnNlO1xuICAgICAgbG9jRXF1YWwoaW52ZXJzZUJsb2NrLCA1LCAyNCwgNywgNiwgJ2ludmVyc2UgYmxvY2snKTtcbiAgICAgIGFzc2VydC5vayhpbnZlcnNlQmxvY2ssICdoYXMgaW52ZXJzZSBibG9jaycpO1xuICAgICAgaWYgKGludmVyc2VCbG9jaykge1xuICAgICAgICBsZXQgW25lc3RlZElmQmxvY2tdID0gaW52ZXJzZUJsb2NrLmJvZHk7XG4gICAgICAgIGxvY0VxdWFsKG5lc3RlZElmQmxvY2ssIDUsIDYsIDksIDYsICduZXN0ZWQgaWYgYmxvY2snKTtcbiAgICAgICAgaWYgKGFzc2VydE5vZGVUeXBlKG5lc3RlZElmQmxvY2ssICdCbG9ja1N0YXRlbWVudCcpKSB7XG4gICAgICAgICAgbGV0IG5lc3RlZElmSW52ZXJzZUJsb2NrID0gbmVzdGVkSWZCbG9jay5pbnZlcnNlO1xuICAgICAgICAgIGFzc2VydC5vayhuZXN0ZWRJZkludmVyc2VCbG9jaywgJ2hhcyBuZXN0ZWQgaW52ZXJzZSBibG9jaycpO1xuICAgICAgICAgIGlmIChuZXN0ZWRJZkludmVyc2VCbG9jaykge1xuICAgICAgICAgICAgbG9jRXF1YWwobmVzdGVkSWZJbnZlcnNlQmxvY2ssIDcsIDE0LCA5LCA2LCAnbmVzdGVkIGludmVyc2UgYmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG50ZXN0KCdibG9jayArIG5ld2xpbmUgKyBlbGVtZW50ICcsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIHt7I2lmIHN0dWZmfX1cbiAgICB7ey9pZn19XG4gICAgPHA+SGkhPC9wPlxuICBgKTtcblxuICBsZXQgWywgaWZCbG9jaywgLCBwXSA9IGFzdC5ib2R5O1xuXG4gIGxvY0VxdWFsKGlmQmxvY2ssIDIsIDQsIDMsIDExLCAnaWYgYmxvY2snKTtcbiAgbG9jRXF1YWwocCwgNCwgNCwgNCwgMTQsICdwIGVsZW1lbnQnKTtcbn0pO1xuXG50ZXN0KCdtdXN0YWNoZSArIG5ld2xpbmUgKyBlbGVtZW50ICcsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIHt7Zm9vfX1cbiAgICA8cD5IaSE8L3A+XG4gIGApO1xuXG4gIGxldCBbLCBmb29NdXN0YWNoZSwgLCBwXSA9IGFzdC5ib2R5O1xuXG4gIGxvY0VxdWFsKGZvb011c3RhY2hlLCAyLCA0LCAyLCAxMSwgJ2lmIGJsb2NrJyk7XG4gIGxvY0VxdWFsKHAsIDMsIDQsIDMsIDE0LCAncCBlbGVtZW50Jyk7XG59KTtcblxudGVzdCgnYmxvY2tzIHdpdGggbmVzdGVkIGh0bWwgZWxlbWVudHMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICB7eyNmb28tYmFyfX08ZGl2PkZvbzwvZGl2Pnt7L2Zvby1iYXJ9fSA8cD5IaSE8L3A+XG4gIGApO1xuXG4gIGxldCBibG9jayA9IGFzdC5ib2R5WzFdO1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoYmxvY2ssICdCbG9ja1N0YXRlbWVudCcpKSB7XG4gICAgbGV0IFtkaXZdID0gYmxvY2sucHJvZ3JhbS5ib2R5O1xuICAgIGxvY0VxdWFsKGRpdiwgMiwgMTYsIDIsIDMwLCAnZGl2IGVsZW1lbnQnKTtcbiAgfVxuXG4gIGxldCBwID0gYXN0LmJvZHlbM107XG4gIGxvY0VxdWFsKHAsIDIsIDQzLCAyLCA1MywgJ3AgZWxlbWVudCcpO1xufSk7XG5cbnRlc3QoJ2h0bWwgZWxlbWVudHMgYWZ0ZXIgbXVzdGFjaGUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICB7e2Zvby1iYXJ9fSA8cD5IaSE8L3A+XG4gIGApO1xuXG4gIGxldCBbLCBtdXN0YWNoZSwgLCBwXSA9IGFzdC5ib2R5O1xuXG4gIGxvY0VxdWFsKG11c3RhY2hlLCAyLCA0LCAyLCAxNSwgJ3t7Zm9vLWJhcn19Jyk7XG4gIGxvY0VxdWFsKHAsIDIsIDE2LCAyLCAyNiwgJ2RpdiBlbGVtZW50Jyk7XG59KTtcblxudGVzdCgndGV4dCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIGZvbyFcbiAgICA8ZGl2PmJsYWg8L2Rpdj5cbiAgYCk7XG5cbiAgbGV0IFtmb29UZXh0LCBkaXZdID0gYXN0LmJvZHk7XG5cbiAgbG9jRXF1YWwoZm9vVGV4dCwgMSwgMCwgMywgNCk7XG4gIGlmIChhc3NlcnROb2RlVHlwZShkaXYsICdFbGVtZW50Tm9kZScpKSB7XG4gICAgbGV0IFtibGFoVGV4dF0gPSBkaXYuY2hpbGRyZW47XG4gICAgbG9jRXF1YWwoYmxhaFRleHQsIDMsIDksIDMsIDEzKTtcbiAgfVxufSk7XG5cbnRlc3QoJ2NvbW1lbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2PjwhLS0gYmxhaCBibGFoIGJsYWggYmxhaCAtLT5cbiAgICAgIDwhLS0gZGVycCBoZXJreSAtLT48ZGl2PjwvZGl2PlxuICAgIDwvZGl2PlxuICBgKTtcblxuICBsZXQgWywgZGl2XSA9IGFzdC5ib2R5O1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoZGl2LCAnRWxlbWVudE5vZGUnKSkge1xuICAgIGxldCBbY29tbWVudDEsICwgY29tbWVudDIsIHRyYWlsaW5nRGl2XSA9IGRpdi5jaGlsZHJlbjtcblxuICAgIGxvY0VxdWFsKGNvbW1lbnQxLCAyLCA5LCAyLCAzNyk7XG4gICAgbG9jRXF1YWwoY29tbWVudDIsIDMsIDYsIDMsIDI1KTtcbiAgICBsb2NFcXVhbCh0cmFpbGluZ0RpdiwgMywgMjUsIDMsIDM2KTtcbiAgfVxufSk7XG5cbnRlc3QoJ2hhbmRsZWJhcnMgY29tbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIDxkaXY+e3shLS0gYmxhaCBibGFoIGJsYWggYmxhaCAtLX19XG4gICAgICB7eyEtLSBkZXJwIGhlcmt5IC0tfX08ZGl2PjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzcGFuIHt7ISBkZXJweSB9fT48L3NwYW4+XG4gIGApO1xuXG4gIGxldCBbLCBkaXYsICwgc3Bhbl0gPSBhc3QuYm9keTtcbiAgaWYgKGFzc2VydE5vZGVUeXBlKGRpdiwgJ0VsZW1lbnROb2RlJykpIHtcbiAgICBsZXQgW2NvbW1lbnQxLCAsIGNvbW1lbnQyLCB0cmFpbGluZ0Rpdl0gPSBkaXYuY2hpbGRyZW47XG4gICAgbG9jRXF1YWwoY29tbWVudDEsIDIsIDksIDIsIDM5KTtcbiAgICBsb2NFcXVhbChjb21tZW50MiwgMywgNiwgMywgMjcpO1xuICAgIGxvY0VxdWFsKHRyYWlsaW5nRGl2LCAzLCAyNywgMywgMzgpO1xuICAgIGlmIChhc3NlcnROb2RlVHlwZShzcGFuLCAnRWxlbWVudE5vZGUnKSkge1xuICAgICAgbGV0IFtjb21tZW50M10gPSBzcGFuLmNvbW1lbnRzO1xuICAgICAgbG9jRXF1YWwoc3BhbiwgNSwgNCwgNSwgMzApO1xuICAgICAgbG9jRXF1YWwoY29tbWVudDMsIDUsIDEwLCA1LCAyMik7XG4gICAgfVxuICB9XG59KTtcblxudGVzdCgnZWxlbWVudCBhdHRyaWJ1dGUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2IGRhdGEtZm9vPVwiYmxhaFwiXG4gICAgICBkYXRhLWRlcnA9XCJsb2xvbFwiXG5kYXRhLWJhcmY9XCJoZXJweVwiXG4gIGRhdGEtcXV4PWxvbG5vcXVvdGVzXG4gICAgICAgIGRhdGEtc29tZXRoaW5nLWJvb2xlYW5cbiAgICBkYXRhLWh1cmt5PVwic29tZSB7e3RoaW5nfX0gaGVyZVwiPlxuICAgICAgSGksIGZpdmV0YW5sZXkhXG4gICAgPC9kaXY+XG4gIGApO1xuXG4gIGxldCBbLCBkaXZdID0gYXN0LmJvZHk7XG4gIGlmIChhc3NlcnROb2RlVHlwZShkaXYsICdFbGVtZW50Tm9kZScpKSB7XG4gICAgbGV0IFtkYXRhRm9vLCBkYXRhRGVycCwgZGF0YUJhcmYsIGRhdGFRdXgsIGRhdGFTb21ldGhpbmdCb29sZWFuLCBkYXRhSHVya3ldID0gZGl2LmF0dHJpYnV0ZXM7XG5cbiAgICBsb2NFcXVhbChkYXRhRm9vLCAyLCA5LCAyLCAyNCwgJ2RhdGEtZm9vJyk7XG4gICAgbG9jRXF1YWwoZGF0YURlcnAsIDMsIDYsIDMsIDIzLCAnZGF0YS1kZXJwJyk7XG4gICAgbG9jRXF1YWwoZGF0YUJhcmYsIDQsIDAsIDQsIDE3LCAnZGF0YS1iYXJmJyk7XG4gICAgbG9jRXF1YWwoZGF0YVF1eCwgNSwgMiwgNSwgMjIsICdkYXRhLXF1eCcpO1xuICAgIGxvY0VxdWFsKGRhdGFTb21ldGhpbmdCb29sZWFuLCA2LCA4LCA3LCA0LCAnZGF0YS1zb21ldGhpbmctYm9vbGVhbicpO1xuXG4gICAgbG9jRXF1YWwoZGF0YUZvby52YWx1ZSwgMiwgMTgsIDIsIDI0LCAnZGF0YS1mb28gdmFsdWUnKTtcbiAgICBsb2NFcXVhbChkYXRhRGVycC52YWx1ZSwgMywgMTYsIDMsIDIzLCAnZGF0YS1kZXJwIHZhbHVlJyk7XG4gICAgbG9jRXF1YWwoZGF0YUJhcmYudmFsdWUsIDQsIDEwLCA0LCAxNywgJ2RhdGEtYmFyZiB2YWx1ZScpO1xuICAgIGxvY0VxdWFsKGRhdGFRdXgudmFsdWUsIDUsIDExLCA1LCAyMiwgJ2RhdGEtcXV4IHZhbHVlJyk7XG4gICAgbG9jRXF1YWwoZGF0YUh1cmt5LnZhbHVlLCA3LCAxNSwgNywgMzYsICdkYXRhLWh1cmt5IHZhbHVlJyk7XG4gIH1cbn0pO1xuXG50ZXN0KCdlbGVtZW50IGR5bmFtaWMgYXR0cmlidXRlJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgPGltZyBzcmM9e3tibGFofX0+YCk7XG5cbiAgbGV0IFtpbWddID0gYXN0LmJvZHk7XG4gIGlmIChhc3NlcnROb2RlVHlwZShpbWcsICdFbGVtZW50Tm9kZScpKSB7XG4gICAgbGV0IFtzcmNdID0gaW1nLmF0dHJpYnV0ZXM7XG4gICAgbG9jRXF1YWwoc3JjLCAxLCA1LCAxLCAxNyk7XG4gICAgbGV0IHsgdmFsdWUgfSA9IHNyYztcbiAgICBsb2NFcXVhbCh2YWx1ZSwgMSwgOSwgMSwgMTcpO1xuICB9XG59KTtcblxudGVzdCgnY29uY2F0IHN0YXRlbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIDxkaXYgZGF0YS1mb289XCJ7e2lmIGZvb1xuICAgICAgICBcImFjdGl2ZVwiXG4gICAgXCJpbmFjdGl2ZVwiXG4gIH19XG5kZXJwXCJcbiAgZGF0YS1iYXI9XCJcbmZvb1wiXG4gIGRhdGEtZGVycD1cImZvb1xue3tjb25jYXQgJyd9fVxuICAgIGh1enphaFwiXG4gICAgPjwvZGl2PlxuICBgKTtcblxuICBsZXQgWywgZGl2XSA9IGFzdC5ib2R5O1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoZGl2LCAnRWxlbWVudE5vZGUnKSkge1xuICAgIGxldCBbZGF0YUZvbywgZGF0YUJhciwgZGF0YURlcnBdID0gZGl2LmF0dHJpYnV0ZXM7XG4gICAgbGV0IGRhdGFGb29WYWx1ZSA9IGRhdGFGb28udmFsdWU7XG4gICAgbGV0IGRhdGFCYXJWYWx1ZSA9IGRhdGFCYXIudmFsdWU7XG4gICAgbGV0IGRhdGFEZXJwVmFsdWUgPSBkYXRhRGVycC52YWx1ZTtcbiAgICBsb2NFcXVhbChkYXRhRm9vLCAyLCA5LCA2LCA1KTtcbiAgICBsb2NFcXVhbChkYXRhQmFyLCA3LCAyLCA4LCA0KTtcbiAgICBsb2NFcXVhbChkYXRhQmFyVmFsdWUsIDcsIDExLCA4LCA0KTtcbiAgICBsb2NFcXVhbChkYXRhRGVycFZhbHVlLCA5LCAxMiwgMTEsIDExKTtcbiAgICBsb2NFcXVhbChkYXRhRm9vVmFsdWUsIDIsIDE4LCA2LCA1KTtcblxuICAgIGlmIChhc3NlcnROb2RlVHlwZShkYXRhRm9vVmFsdWUsICdDb25jYXRTdGF0ZW1lbnQnKSkge1xuICAgICAgbGV0IFtpbmxpbmVJZiwgc3RhdGljRGVycFRleHRdID0gZGF0YUZvb1ZhbHVlLnBhcnRzO1xuICAgICAgbG9jRXF1YWwoaW5saW5lSWYsIDIsIDE5LCA1LCA0KTtcbiAgICAgIGxvY0VxdWFsKHN0YXRpY0RlcnBUZXh0LCA1LCA0LCA2LCA0KTtcbiAgICB9XG5cbiAgICBpZiAoYXNzZXJ0Tm9kZVR5cGUoZGF0YURlcnBWYWx1ZSwgJ0NvbmNhdFN0YXRlbWVudCcpKSB7XG4gICAgICBsZXQgW2Zvb1N0YXRpY1RleHQsIGNvbmNhdCwgaHV6emFoU3RhdGljVGV4dF0gPSBkYXRhRGVycFZhbHVlLnBhcnRzO1xuICAgICAgbG9jRXF1YWwoZm9vU3RhdGljVGV4dCwgOSwgMTQsIDEwLCAwKTtcbiAgICAgIGxvY0VxdWFsKGNvbmNhdCwgMTAsIDAsIDEwLCAxMyk7XG4gICAgICBsb2NFcXVhbChodXp6YWhTdGF0aWNUZXh0LCAxMCwgMTMsIDExLCAxMCk7XG4gICAgfVxuICB9XG59KTtcblxudGVzdCgnY2hhciByZWZlcmVuY2VzJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAgJmd0OzxkaXY+Jmx0OzxwPlxuICAgICAgSGksIGRhbm1jY2xhaW4gJmV4Y2w7PC9wPlxuICAgIDwvZGl2PlxuICBgKTtcblxuICBsZXQgWywgZGl2XSA9IGFzdC5ib2R5O1xuXG4gIGxvY0VxdWFsKGRpdiwgMiwgOCwgNCwgMTApO1xuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoZGl2LCAnRWxlbWVudE5vZGUnKSkge1xuICAgIGxldCBbdGV4dDEsIHBdID0gZGl2LmNoaWxkcmVuO1xuICAgIGxvY0VxdWFsKHRleHQxLCAyLCAxMywgMiwgMTcpO1xuICAgIGxvY0VxdWFsKHAsIDIsIDE3LCAzLCAzMSk7XG5cbiAgICBpZiAoYXNzZXJ0Tm9kZVR5cGUocCwgJ0VsZW1lbnROb2RlJykpIHtcbiAgICAgIGxldCBbdGV4dDJdID0gcC5jaGlsZHJlbjtcbiAgICAgIGxvY0VxdWFsKHRleHQyLCAyLCAyMCwgMywgMjcpO1xuICAgIH1cbiAgfVxufSk7XG5cbnRlc3QoJ3doaXRlc3BhY2UgY29udHJvbCAtIHRyYWlsaW5nJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gIHt7I2lmIGZvb359fVxuICAgIDxkaXY+PC9kaXY+XG4gIHt7ZWxzZX59fVxuICAgIHt7YmFyfX1cbiAge3svaWZ9fWApO1xuXG4gIGxldCBbLCBpZkJsb2NrXSA9IGFzdC5ib2R5O1xuICBsb2NFcXVhbChpZkJsb2NrLCAyLCAyLCA2LCA5LCAnaWYgYmxvY2snKTtcblxuICBpZiAoYXNzZXJ0Tm9kZVR5cGUoaWZCbG9jaywgJ0Jsb2NrU3RhdGVtZW50JykpIHtcbiAgICBsZXQgW2Rpdl0gPSBpZkJsb2NrLnByb2dyYW0uYm9keTtcbiAgICBsb2NFcXVhbChkaXYsIDMsIDQsIDMsIDE1LCAnZGl2IGluc2lkZSB0cnV0aHkgaWYgYmxvY2snKTtcbiAgfVxufSk7XG5cbnRlc3QoXCJ3aGl0ZXNwYWNlIGNvbnRyb2wgLSAnZWxzZSBpZicgdHJhaWxpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gIHt7I2lmIGZvb319XG4gICAge3tiYXJ9fVxuICB7e2Vsc2UgaWYgYmF6fn19XG4gICAgPGRpdj48L2Rpdj5cbiAge3svaWZ9fWApO1xuXG4gIGxldCBbLCBpZkJsb2NrXSA9IGFzdC5ib2R5O1xuICBsb2NFcXVhbChpZkJsb2NrLCAyLCAyLCA2LCA5LCAnaWYgYmxvY2snKTtcbiAgaWYgKGFzc2VydE5vZGVUeXBlKGlmQmxvY2ssICdCbG9ja1N0YXRlbWVudCcpICYmIGFzc2VydE5vZGVUeXBlKGlmQmxvY2suaW52ZXJzZSwgJ1Byb2dyYW0nKSkge1xuICAgIGxldCBbbmVzdGVkSWZCbG9ja10gPSBpZkJsb2NrLmludmVyc2UuYm9keTtcbiAgICBpZiAoXG4gICAgICBhc3NlcnROb2RlVHlwZShuZXN0ZWRJZkJsb2NrLCAnQmxvY2tTdGF0ZW1lbnQnKSAmJlxuICAgICAgYXNzZXJ0Tm9kZVR5cGUobmVzdGVkSWZCbG9jay5wcm9ncmFtLCAnUHJvZ3JhbScpXG4gICAgKSB7XG4gICAgICBsZXQgW2Rpdl0gPSBuZXN0ZWRJZkJsb2NrLnByb2dyYW0uYm9keTtcbiAgICAgIGxvY0VxdWFsKGRpdiwgNSwgNCwgNSwgMTUsICdkaXYgaW5zaWRlIHRydXRoeSBlbHNlIGlmIGJsb2NrJyk7XG4gICAgfVxuICB9XG59KTtcblxudGVzdCgnd2hpdGVzcGFjZSBjb250cm9sIC0gbGVhZGluZycsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICB7e34jaWYgZm9vfX1cbiAgICA8ZGl2PjwvZGl2PlxuICB7e35lbHNlfX1cbiAgICB7e2Jhcn19XG4gIHt7fi9pZn19YCk7XG5cbiAgbGV0IFtpZkJsb2NrXSA9IGFzdC5ib2R5O1xuICBsb2NFcXVhbChpZkJsb2NrLCAyLCAyLCA2LCAxMCwgJ2lmIGJsb2NrJyk7XG4gIGlmIChhc3NlcnROb2RlVHlwZShpZkJsb2NrLCAnQmxvY2tTdGF0ZW1lbnQnKSkge1xuICAgIGxldCBbLCBkaXZdID0gaWZCbG9jay5wcm9ncmFtLmJvZHk7XG4gICAgbG9jRXF1YWwoZGl2LCAzLCA0LCAzLCAxNSwgJ2RpdiBpbnNpZGUgdHJ1dGh5IGlmIGJsb2NrJyk7XG4gIH1cbn0pO1xuIl19