'use strict';

var _ = require('..');

var _support = require('./support');

const test = QUnit.test;
QUnit.module('[glimmer-syntax] Parser - AST');
test('a simple piece of content', function () {
    let t = 'some content';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some content')]));
});
test('self-closed element', function () {
    let t = '<g />';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element({ name: 'g', selfClosing: true })]));
});
test('elements can have empty attributes', function () {
    let t = '<img id="">';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('img', [_.builders.attr('id', _.builders.text(''))])]));
});
test('disallowed quote in element space is rejected', function (assert) {
    let t = '<img foo="bar"" >';
    assert.throws(() => {
        (0, _.preprocess)(t);
    }, /Syntax error at line 1 col 14: " is not a valid character within attribute names/);
});
test('disallowed equals sign in element space is rejected', function (assert) {
    let t = '<img =foo >';
    assert.throws(() => {
        (0, _.preprocess)(t);
    }, /Syntax error at line 1 col 5: attribute name cannot start with equals sign/);
});
test('svg content', function () {
    let t = '<svg></svg>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('svg')]));
});
test('html content with html content inline', function () {
    let t = '<div><p></p></div>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('div', [], [], [_.builders.element('p')])]));
});
test('html content with svg content inline', function () {
    let t = '<div><svg></svg></div>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('div', [], [], [_.builders.element('svg')])]));
});
let integrationPoints = ['foreignObject', 'desc', 'title'];
function buildIntegrationPointTest(integrationPoint) {
    return function integrationPointTest() {
        let t = '<svg><' + integrationPoint + '><div></div></' + integrationPoint + '></svg>';
        (0, _support.astEqual)(t, _.builders.program([_.builders.element('svg', [], [], [_.builders.element(integrationPoint, [], [], [_.builders.element('div')])])]));
    };
}
for (let i = 0, length = integrationPoints.length; i < length; i++) {
    test('svg content with html content inline for ' + integrationPoints[i], buildIntegrationPointTest(integrationPoints[i]));
}
test('a piece of content with HTML', function () {
    let t = 'some <div>content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', [], [], [_.builders.text('content')]), _.builders.text(' done')]));
});
test('a piece of Handlebars with HTML', function () {
    let t = 'some <div>{{content}}</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', [], [], [_.builders.mustache(_.builders.path('content'))]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute (quoted)', function () {
    let t = 'some <div class="{{foo}}">content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', [_.builders.attr('class', _.builders.concat([_.builders.mustache('foo')]))], [], [_.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute (unquoted)', function () {
    let t = 'some <div class={{foo}}>content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', [_.builders.attr('class', _.builders.mustache(_.builders.path('foo')))], [], [_.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute of a self-closing tag (unqouted)', function () {
    let t = '<input value={{foo}}/>';
    let element = _.builders.element('input', [_.builders.attr('value', _.builders.mustache(_.builders.path('foo')))], [], []);
    element.selfClosing = true;
    (0, _support.astEqual)(t, _.builders.program([element]));
});
test('Handlebars embedded in an attribute (sexprs)', function () {
    let t = 'some <div class="{{foo (foo "abc")}}">content</div> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('div', [_.builders.attr('class', _.builders.concat([_.builders.mustache(_.builders.path('foo'), [_.builders.sexpr(_.builders.path('foo'), [_.builders.string('abc')])])]))], [], [_.builders.text('content')]), _.builders.text(' done')]));
});
test('Handlebars embedded in an attribute with other content surrounding it', function () {
    let t = 'some <a href="http://{{link}}/">content</a> done';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('some '), _.builders.element('a', [_.builders.attr('href', _.builders.concat([_.builders.text('http://'), _.builders.mustache('link'), _.builders.text('/')]))], [], [_.builders.text('content')]), _.builders.text(' done')]));
});
test('A more complete embedding example', function () {
    let t = "{{embed}} {{some 'content'}} " + "<div class='{{foo}} {{bind-class isEnabled truthy='enabled'}}'>{{ content }}</div>" + " {{more 'embed'}}";
    (0, _support.astEqual)(t, _.builders.program([_.builders.mustache(_.builders.path('embed')), _.builders.text(' '), _.builders.mustache(_.builders.path('some'), [_.builders.string('content')]), _.builders.text(' '), _.builders.element('div', [_.builders.attr('class', _.builders.concat([_.builders.mustache('foo'), _.builders.text(' '), _.builders.mustache('bind-class', [_.builders.path('isEnabled')], _.builders.hash([_.builders.pair('truthy', _.builders.string('enabled'))]))]))], [], [_.builders.mustache(_.builders.path('content'))]), _.builders.text(' '), _.builders.mustache(_.builders.path('more'), [_.builders.string('embed')])]));
});
test('Simple embedded block helpers', function () {
    let t = '{{#if foo}}<div>{{content}}</div>{{/if}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('if'), [_.builders.path('foo')], _.builders.hash(), _.builders.program([_.builders.element('div', [], [], [_.builders.mustache(_.builders.path('content'))])]))]));
});
test('Involved block helper', function () {
    let t = '<p>hi</p> content {{#testing shouldRender}}<p>Appears!</p>{{/testing}} more <em>content</em> here';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('p', [], [], [_.builders.text('hi')]), _.builders.text(' content '), _.builders.block(_.builders.path('testing'), [_.builders.path('shouldRender')], _.builders.hash(), _.builders.program([_.builders.element('p', [], [], [_.builders.text('Appears!')])])), _.builders.text(' more '), _.builders.element('em', [], [], [_.builders.text('content')]), _.builders.text(' here')]));
});
test('Element modifiers', function () {
    let t = "<p {{action 'boom'}} class='bar'>Some content</p>";
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('p', [_.builders.attr('class', _.builders.text('bar'))], [_.builders.elementModifier(_.builders.path('action'), [_.builders.string('boom')])], [_.builders.text('Some content')])]));
});
test('Tokenizer: MustacheStatement encountered in beforeAttributeName state', function () {
    let t = '<input {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', [], [_.builders.elementModifier(_.builders.path('bar'))])]));
});
test('Tokenizer: MustacheStatement encountered in attributeName state', function () {
    let t = '<input foo{{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', [_.builders.attr('foo', _.builders.text(''))], [_.builders.elementModifier(_.builders.path('bar'))])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeName state', function () {
    let t = '<input foo {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', [_.builders.attr('foo', _.builders.text(''))], [_.builders.elementModifier(_.builders.path('bar'))])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeValue state', function () {
    let t = '<input foo=1 {{bar}}>';
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', [_.builders.attr('foo', _.builders.text('1'))], [_.builders.elementModifier(_.builders.path('bar'))])]));
});
test('Tokenizer: MustacheStatement encountered in afterAttributeValueQuoted state', function () {
    let t = "<input foo='1'{{bar}}>";
    (0, _support.astEqual)(t, _.builders.program([_.builders.element('input', [_.builders.attr('foo', _.builders.text('1'))], [_.builders.elementModifier(_.builders.path('bar'))])]));
});
test('Stripping - mustaches', function () {
    let t = 'foo {{~content}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo'), _.builders.mustache(_.builders.path('content')), _.builders.text(' bar')]));
    t = 'foo {{content~}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo '), _.builders.mustache(_.builders.path('content')), _.builders.text('bar')]));
});
test('Stripping - blocks', function () {
    let t = 'foo {{~#wat}}{{/wat}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo'), _.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program()), _.builders.text(' bar')]));
    t = 'foo {{#wat}}{{/wat~}} bar';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('foo '), _.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program()), _.builders.text('bar')]));
});
test('Stripping - programs', function () {
    let t = '{{#wat~}} foo {{else}}{{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program([_.builders.text('foo ')]), _.builders.program())]));
    t = '{{#wat}} foo {{~else}}{{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program([_.builders.text(' foo')]), _.builders.program())]));
    t = '{{#wat}}{{else~}} foo {{/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program(), _.builders.program([_.builders.text('foo ')]))]));
    t = '{{#wat}}{{else}} foo {{~/wat}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('wat'), [], _.builders.hash(), _.builders.program(), _.builders.program([_.builders.text(' foo')]))]));
});
test('Stripping - removes unnecessary text nodes', function () {
    let t = '{{#each~}}\n  <li> foo </li>\n{{~/each}}';
    (0, _support.astEqual)(t, _.builders.program([_.builders.block(_.builders.path('each'), [], _.builders.hash(), _.builders.program([_.builders.element('li', [], [], [_.builders.text(' foo ')])]), null)]));
});
// TODO: Make these throw an error.
//test("Awkward mustache in unquoted attribute value", function() {
//  let t = "<div class=a{{foo}}></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')])])) ])
//  ]));
//
//  t = "<div class=a{{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//
//  t = "<div class={{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//});
test('an HTML comment', function () {
    let t = 'before <!-- some comment --> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.comment(' some comment '), _.builders.text(' after')]));
});
test('a Handlebars comment inside an HTML comment', function () {
    let t = 'before <!-- some {{! nested thing }} comment --> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.comment(' some {{! nested thing }} comment '), _.builders.text(' after')]));
});
test('a Handlebars comment', function () {
    let t = 'before {{! some comment }} after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.mustacheComment(' some comment '), _.builders.text(' after')]));
});
test('a Handlebars comment in proper element space', function () {
    let t = 'before <div {{! some comment }} data-foo="bar" {{! other comment }}></div> after';
    (0, _support.astEqual)(t, _.builders.program([_.builders.text('before '), _.builders.element('div', [_.builders.attr('data-foo', _.builders.text('bar'))], [], [], [_.builders.mustacheComment(' some comment '), _.builders.mustacheComment(' other comment ')]), _.builders.text(' after')]));
});
test('a Handlebars comment in invalid element space', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a{{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeName` state is not supported: " some comment " on line 3:3/);
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a={{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `beforeAttributeValue` state is not supported: " some comment " on line 3:4/);
    assert.throws(() => {
        (0, _.preprocess)('\nbefore <div \n  a="{{! some comment }}" data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeValueDoubleQuoted` state is not supported: " some comment " on line 3:5/);
});
test('allow {{null}} to be passed as helper name', function () {
    let ast = (0, _.preprocess)('{{null}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.null())]));
});
test('allow {{null}} to be passed as a param', function () {
    let ast = (0, _.preprocess)('{{foo null}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.path('foo'), [_.builders.null()])]));
});
test('allow {{undefined}} to be passed as helper name', function () {
    let ast = (0, _.preprocess)('{{undefined}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.undefined())]));
});
test('allow {{undefined}} to be passed as a param', function () {
    let ast = (0, _.preprocess)('{{foo undefined}}');
    (0, _support.astEqual)(ast, _.builders.program([_.builders.mustache(_.builders.path('foo'), [_.builders.undefined()])]));
});
test('Handlebars partial should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{> foo}}');
    }, Error(`Handlebars partials are not supported: "{{> foo" at L1:C0`));
});
test('Handlebars partial block should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{#> foo}}{{/foo}}');
    }, new Error(`Handlebars partial blocks are not supported: "{{#> foo" at L1:C0`));
});
test('Handlebars decorator should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{* foo}}');
    }, new Error(`Handlebars decorators are not supported: "{{* foo" at L1:C0`));
});
test('Handlebars decorator block should error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{#* foo}}{{/foo}}');
    }, new Error(`Handlebars decorator blocks are not supported: "{{#* foo" at L1:C0`));
});
test('disallowed mustaches in the tagName space', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('<{{"asdf"}}></{{"asdf"}}>');
    }, /Cannot use mustaches in an elements tagname: `{{"asdf"` at L1:C1/);
    assert.throws(() => {
        (0, _.preprocess)('<input{{bar}}>');
    }, /Cannot use mustaches in an elements tagname: `{{bar` at L1:C6/);
});
test('mustache immediately followed by self closing tag does not error', function () {
    let ast = (0, _.preprocess)('<FooBar data-foo={{blah}}/>');
    let element = _.builders.element('FooBar', [_.builders.attr('data-foo', _.builders.mustache('blah'))]);
    element.selfClosing = true;
    (0, _support.astEqual)(ast, _.builders.program([element]));
});
test('path expression with "dangling dot" throws error', function (assert) {
    assert.throws(() => {
        (0, _.preprocess)('{{if foo. bar baz}}');
    }, /'\.' is not a supported path in Glimmer; check for a path with a trailing '\.' at L1:C8/);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VyLW5vZGUtdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL3N5bnRheC90ZXN0L3BhcnNlci1ub2RlLXRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxBQUFPLEFBQUUsQUFBVSxBQUFJLEFBQUssQUFBRSxBQUFRLEFBQUksQUFBQyxBQUFFLEFBQU0sQUFBSSxBQUFDOztBQUV4RCxBQUFPLEFBQUUsQUFBUSxBQUFFLEFBQU0sQUFBVyxBQUFDOztBQUVyQyxNQUFNLEFBQUksT0FBRyxBQUFLLE1BQUMsQUFBSSxBQUFDO0FBRXhCLEFBQUssTUFBQyxBQUFNLE9BQUMsQUFBK0IsQUFBQyxBQUFDO0FBRTlDLEFBQUksS0FBQyxBQUEyQiw2QkFBRTtBQUNoQyxRQUFJLEFBQUMsSUFBRyxBQUFjLEFBQUM7QUFDdkIsQUFBUSwyQkFBQyxBQUFDLEdBQUUsQUFBQyxXQUFDLEFBQU8sUUFBQyxDQUFDLEFBQUMsV0FBQyxBQUFJLEtBQUMsQUFBYyxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFDbkQ7QUFBQyxBQUFDLEFBQUM7QUFFSCxBQUFJLEtBQUMsQUFBcUIsdUJBQUU7QUFDMUIsUUFBSSxBQUFDLElBQUcsQUFBTyxBQUFDO0FBQ2hCLEFBQVEsMkJBQUMsQUFBQyxHQUFFLEFBQUMsV0FBQyxBQUFPLFFBQUMsQ0FBQyxBQUFDLFdBQUMsQUFBTyxRQUFDLEVBQUUsQUFBSSxNQUFFLEFBQUcsS0FBRSxBQUFXLGFBQUUsQUFBSSxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUN4RTtBQUFDLEFBQUMsQUFBQztBQUVILEFBQUksS0FBQyxBQUFvQyxzQ0FBRTtBQUN6QyxRQUFJLEFBQUMsSUFBRyxBQUFhLEFBQUM7QUFDdEIsQUFBUSwyQkFBQyxBQUFDLEdBQUUsQUFBQyxXQUFDLEFBQU8sUUFBQyxDQUFDLEFBQUMsV0FBQyxBQUFPLFFBQUMsQUFBSyxPQUFFLENB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QUksS0FBQyxBQUFrRSxvRUFBRTtBQUN2RSxRQUFJLEFBQUcsTUFBRyxBQUFLLGtCQUFDLEFBQTZCLEFBQUMsQUFBQztBQUMvQyxRQUFJLEFBQU8sVUFBRyxBQUFDLFdBQUMsQUFBTyxRQUFDLEFBQVEsVUFBRSxDQUFDLEFBQUMsV0FBQyxBQUFJLEtBQUMsQUFBVSxZQUFFLEFBQUMsV0FBQyxBQUFRLFNBQUMsQUFBTSxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUM7QUFDNUUsQUFBTyxZQUFDLEFBQVcsY0FBRyxBQUFJLEFBQUM7QUFDM0IsQUFBUSwyQkFBQyxBQUFHLEtBQUUsQUFBQyxXQUFDLEFBQU8sUUFBQyxDQUFDLEFBQU8sQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUN0QztBQUFDLEFBQUMsQUFBQztBQUVILEFBQUksS0FBQyxBQUFrRCxvREFBRSxVQUFTLEFBQU07QUFDdEUsQUFBTSxXQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUU7QUFDakIsQUFBSywwQkFBQyxBQUFxQixBQUFDLEFBQUMsQUFDL0I7QUFBQyxPQUFFLEFBQXlGLEFBQUMsQUFBQyxBQUNoRztBQUFDLEFBQUMsQUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByZXByb2Nlc3MgYXMgcGFyc2UsIGJ1aWxkZXJzIGFzIGIgfSBmcm9tICcuLic7XG5cbmltcG9ydCB7IGFzdEVxdWFsIH0gZnJvbSAnLi9zdXBwb3J0JztcblxuY29uc3QgdGVzdCA9IFFVbml0LnRlc3Q7XG5cblFVbml0Lm1vZHVsZSgnW2dsaW1tZXItc3ludGF4XSBQYXJzZXIgLSBBU1QnKTtcblxudGVzdCgnYSBzaW1wbGUgcGllY2Ugb2YgY29udGVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIGNvbnRlbnQnO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IudGV4dCgnc29tZSBjb250ZW50JyldKSk7XG59KTtcblxudGVzdCgnc2VsZi1jbG9zZWQgZWxlbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8ZyAvPic7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbYi5lbGVtZW50KHsgbmFtZTogJ2cnLCBzZWxmQ2xvc2luZzogdHJ1ZSB9KV0pKTtcbn0pO1xuXG50ZXN0KCdlbGVtZW50cyBjYW4gaGF2ZSBlbXB0eSBhdHRyaWJ1dGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxpbWcgaWQ9XCJcIj4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnaW1nJywgW2IuYXR0cignaWQnLCBiLnRleHQoJycpKV0pXSkpO1xufSk7XG5cbnRlc3QoJ2Rpc2FsbG93ZWQgcXVvdGUgaW4gZWxlbWVudCBzcGFjZSBpcyByZWplY3RlZCcsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBsZXQgdCA9ICc8aW1nIGZvbz1cImJhclwiXCIgPic7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKHQpO1xuICB9LCAvU3ludGF4IGVycm9yIGF0IGxpbmUgMSBjb2wgMTQ6IFwiIGlzIG5vdCBhIHZhbGlkIGNoYXJhY3RlciB3aXRoaW4gYXR0cmlidXRlIG5hbWVzLyk7XG59KTtcblxudGVzdCgnZGlzYWxsb3dlZCBlcXVhbHMgc2lnbiBpbiBlbGVtZW50IHNwYWNlIGlzIHJlamVjdGVkJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ID0gJzxpbWcgPWZvbyA+JztcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UodCk7XG4gIH0sIC9TeW50YXggZXJyb3IgYXQgbGluZSAxIGNvbCA1OiBhdHRyaWJ1dGUgbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCBlcXVhbHMgc2lnbi8pO1xufSk7XG5cbnRlc3QoJ3N2ZyBjb250ZW50JywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxzdmc+PC9zdmc+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ3N2ZycpXSkpO1xufSk7XG5cbnRlc3QoJ2h0bWwgY29udGVudCB3aXRoIGh0bWwgY29udGVudCBpbmxpbmUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGRpdj48cD48L3A+PC9kaXY+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2RpdicsIFtdLCBbXSwgW2IuZWxlbWVudCgncCcpXSldKSk7XG59KTtcblxudGVzdCgnaHRtbCBjb250ZW50IHdpdGggc3ZnIGNvbnRlbnQgaW5saW5lJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxkaXY+PHN2Zz48L3N2Zz48L2Rpdj4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnZGl2JywgW10sIFtdLCBbYi5lbGVtZW50KCdzdmcnKV0pXSkpO1xufSk7XG5cbmxldCBpbnRlZ3JhdGlvblBvaW50cyA9IFsnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG5mdW5jdGlvbiBidWlsZEludGVncmF0aW9uUG9pbnRUZXN0KGludGVncmF0aW9uUG9pbnQ6IHN0cmluZykge1xuICByZXR1cm4gZnVuY3Rpb24gaW50ZWdyYXRpb25Qb2ludFRlc3QoKSB7XG4gICAgbGV0IHQgPSAnPHN2Zz48JyArIGludGVncmF0aW9uUG9pbnQgKyAnPjxkaXY+PC9kaXY+PC8nICsgaW50ZWdyYXRpb25Qb2ludCArICc+PC9zdmc+JztcbiAgICBhc3RFcXVhbChcbiAgICAgIHQsXG4gICAgICBiLnByb2dyYW0oW1xuICAgICAgICBiLmVsZW1lbnQoJ3N2ZycsIFtdLCBbXSwgW2IuZWxlbWVudChpbnRlZ3JhdGlvblBvaW50LCBbXSwgW10sIFtiLmVsZW1lbnQoJ2RpdicpXSldKSxcbiAgICAgIF0pXG4gICAgKTtcbiAgfTtcbn1cbmZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBpbnRlZ3JhdGlvblBvaW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICB0ZXN0KFxuICAgICdzdmcgY29udGVudCB3aXRoIGh0bWwgY29udGVudCBpbmxpbmUgZm9yICcgKyBpbnRlZ3JhdGlvblBvaW50c1tpXSxcbiAgICBidWlsZEludGVncmF0aW9uUG9pbnRUZXN0KGludGVncmF0aW9uUG9pbnRzW2ldKVxuICApO1xufVxuXG50ZXN0KCdhIHBpZWNlIG9mIGNvbnRlbnQgd2l0aCBIVE1MJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdj5jb250ZW50PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbYi50ZXh0KCdzb21lICcpLCBiLmVsZW1lbnQoJ2RpdicsIFtdLCBbXSwgW2IudGV4dCgnY29udGVudCcpXSksIGIudGV4dCgnIGRvbmUnKV0pXG4gICk7XG59KTtcblxudGVzdCgnYSBwaWVjZSBvZiBIYW5kbGViYXJzIHdpdGggSFRNTCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxkaXY+e3tjb250ZW50fX08L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnc29tZSAnKSxcbiAgICAgIGIuZWxlbWVudCgnZGl2JywgW10sIFtdLCBbYi5tdXN0YWNoZShiLnBhdGgoJ2NvbnRlbnQnKSldKSxcbiAgICAgIGIudGV4dCgnIGRvbmUnKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIChxdW90ZWQpJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdiBjbGFzcz1cInt7Zm9vfX1cIj5jb250ZW50PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ3NvbWUgJyksXG4gICAgICBiLmVsZW1lbnQoJ2RpdicsIFtiLmF0dHIoJ2NsYXNzJywgYi5jb25jYXQoW2IubXVzdGFjaGUoJ2ZvbycpXSkpXSwgW10sIFtiLnRleHQoJ2NvbnRlbnQnKV0pLFxuICAgICAgYi50ZXh0KCcgZG9uZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBlbWJlZGRlZCBpbiBhbiBhdHRyaWJ1dGUgKHVucXVvdGVkKScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxkaXYgY2xhc3M9e3tmb299fT5jb250ZW50PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ3NvbWUgJyksXG4gICAgICBiLmVsZW1lbnQoJ2RpdicsIFtiLmF0dHIoJ2NsYXNzJywgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpKSldLCBbXSwgW2IudGV4dCgnY29udGVudCcpXSksXG4gICAgICBiLnRleHQoJyBkb25lJyksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdIYW5kbGViYXJzIGVtYmVkZGVkIGluIGFuIGF0dHJpYnV0ZSBvZiBhIHNlbGYtY2xvc2luZyB0YWcgKHVucW91dGVkKScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQgdmFsdWU9e3tmb299fS8+JztcblxuICBsZXQgZWxlbWVudCA9IGIuZWxlbWVudCgnaW5wdXQnLCBbYi5hdHRyKCd2YWx1ZScsIGIubXVzdGFjaGUoYi5wYXRoKCdmb28nKSkpXSwgW10sIFtdKTtcbiAgZWxlbWVudC5zZWxmQ2xvc2luZyA9IHRydWU7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbZWxlbWVudF0pKTtcbn0pO1xuXG50ZXN0KCdIYW5kbGViYXJzIGVtYmVkZGVkIGluIGFuIGF0dHJpYnV0ZSAoc2V4cHJzKScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxkaXYgY2xhc3M9XCJ7e2ZvbyAoZm9vIFwiYWJjXCIpfX1cIj5jb250ZW50PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ3NvbWUgJyksXG4gICAgICBiLmVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBbXG4gICAgICAgICAgYi5hdHRyKFxuICAgICAgICAgICAgJ2NsYXNzJyxcbiAgICAgICAgICAgIGIuY29uY2F0KFtiLm11c3RhY2hlKGIucGF0aCgnZm9vJyksIFtiLnNleHByKGIucGF0aCgnZm9vJyksIFtiLnN0cmluZygnYWJjJyldKV0pXSlcbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgICBbXSxcbiAgICAgICAgW2IudGV4dCgnY29udGVudCcpXVxuICAgICAgKSxcbiAgICAgIGIudGV4dCgnIGRvbmUnKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIHdpdGggb3RoZXIgY29udGVudCBzdXJyb3VuZGluZyBpdCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIDxhIGhyZWY9XCJodHRwOi8ve3tsaW5rfX0vXCI+Y29udGVudDwvYT4gZG9uZSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIudGV4dCgnc29tZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2EnLFxuICAgICAgICBbYi5hdHRyKCdocmVmJywgYi5jb25jYXQoW2IudGV4dCgnaHR0cDovLycpLCBiLm11c3RhY2hlKCdsaW5rJyksIGIudGV4dCgnLycpXSkpXSxcbiAgICAgICAgW10sXG4gICAgICAgIFtiLnRleHQoJ2NvbnRlbnQnKV1cbiAgICAgICksXG4gICAgICBiLnRleHQoJyBkb25lJyksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdBIG1vcmUgY29tcGxldGUgZW1iZWRkaW5nIGV4YW1wbGUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPVxuICAgIFwie3tlbWJlZH19IHt7c29tZSAnY29udGVudCd9fSBcIiArXG4gICAgXCI8ZGl2IGNsYXNzPSd7e2Zvb319IHt7YmluZC1jbGFzcyBpc0VuYWJsZWQgdHJ1dGh5PSdlbmFibGVkJ319Jz57eyBjb250ZW50IH19PC9kaXY+XCIgK1xuICAgIFwiIHt7bW9yZSAnZW1iZWQnfX1cIjtcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5tdXN0YWNoZShiLnBhdGgoJ2VtYmVkJykpLFxuICAgICAgYi50ZXh0KCcgJyksXG4gICAgICBiLm11c3RhY2hlKGIucGF0aCgnc29tZScpLCBbYi5zdHJpbmcoJ2NvbnRlbnQnKV0pLFxuICAgICAgYi50ZXh0KCcgJyksXG4gICAgICBiLmVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBbXG4gICAgICAgICAgYi5hdHRyKFxuICAgICAgICAgICAgJ2NsYXNzJyxcbiAgICAgICAgICAgIGIuY29uY2F0KFtcbiAgICAgICAgICAgICAgYi5tdXN0YWNoZSgnZm9vJyksXG4gICAgICAgICAgICAgIGIudGV4dCgnICcpLFxuICAgICAgICAgICAgICBiLm11c3RhY2hlKFxuICAgICAgICAgICAgICAgICdiaW5kLWNsYXNzJyxcbiAgICAgICAgICAgICAgICBbYi5wYXRoKCdpc0VuYWJsZWQnKV0sXG4gICAgICAgICAgICAgICAgYi5oYXNoKFtiLnBhaXIoJ3RydXRoeScsIGIuc3RyaW5nKCdlbmFibGVkJykpXSlcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgKSxcbiAgICAgICAgXSxcbiAgICAgICAgW10sXG4gICAgICAgIFtiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKV1cbiAgICAgICksXG4gICAgICBiLnRleHQoJyAnKSxcbiAgICAgIGIubXVzdGFjaGUoYi5wYXRoKCdtb3JlJyksIFtiLnN0cmluZygnZW1iZWQnKV0pLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnU2ltcGxlIGVtYmVkZGVkIGJsb2NrIGhlbHBlcnMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAne3sjaWYgZm9vfX08ZGl2Pnt7Y29udGVudH19PC9kaXY+e3svaWZ9fSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuYmxvY2soXG4gICAgICAgIGIucGF0aCgnaWYnKSxcbiAgICAgICAgW2IucGF0aCgnZm9vJyldLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2RpdicsIFtdLCBbXSwgW2IubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JykpXSldKVxuICAgICAgKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ0ludm9sdmVkIGJsb2NrIGhlbHBlcicsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9XG4gICAgJzxwPmhpPC9wPiBjb250ZW50IHt7I3Rlc3Rpbmcgc2hvdWxkUmVuZGVyfX08cD5BcHBlYXJzITwvcD57ey90ZXN0aW5nfX0gbW9yZSA8ZW0+Y29udGVudDwvZW0+IGhlcmUnO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLmVsZW1lbnQoJ3AnLCBbXSwgW10sIFtiLnRleHQoJ2hpJyldKSxcbiAgICAgIGIudGV4dCgnIGNvbnRlbnQgJyksXG4gICAgICBiLmJsb2NrKFxuICAgICAgICBiLnBhdGgoJ3Rlc3RpbmcnKSxcbiAgICAgICAgW2IucGF0aCgnc2hvdWxkUmVuZGVyJyldLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ3AnLCBbXSwgW10sIFtiLnRleHQoJ0FwcGVhcnMhJyldKV0pXG4gICAgICApLFxuICAgICAgYi50ZXh0KCcgbW9yZSAnKSxcbiAgICAgIGIuZWxlbWVudCgnZW0nLCBbXSwgW10sIFtiLnRleHQoJ2NvbnRlbnQnKV0pLFxuICAgICAgYi50ZXh0KCcgaGVyZScpLFxuICAgIF0pXG4gICk7XG59KTtcblxudGVzdCgnRWxlbWVudCBtb2RpZmllcnMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcIjxwIHt7YWN0aW9uICdib29tJ319IGNsYXNzPSdiYXInPlNvbWUgY29udGVudDwvcD5cIjtcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5lbGVtZW50KFxuICAgICAgICAncCcsXG4gICAgICAgIFtiLmF0dHIoJ2NsYXNzJywgYi50ZXh0KCdiYXInKSldLFxuICAgICAgICBbYi5lbGVtZW50TW9kaWZpZXIoYi5wYXRoKCdhY3Rpb24nKSwgW2Iuc3RyaW5nKCdib29tJyldKV0sXG4gICAgICAgIFtiLnRleHQoJ1NvbWUgY29udGVudCcpXVxuICAgICAgKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ1Rva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYmVmb3JlQXR0cmlidXRlTmFtZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQge3tiYXJ9fT4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IuZWxlbWVudCgnaW5wdXQnLCBbXSwgW2IuZWxlbWVudE1vZGlmaWVyKGIucGF0aCgnYmFyJykpXSldKSk7XG59KTtcblxudGVzdCgnVG9rZW5pemVyOiBNdXN0YWNoZVN0YXRlbWVudCBlbmNvdW50ZXJlZCBpbiBhdHRyaWJ1dGVOYW1lIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxpbnB1dCBmb297e2Jhcn19Pic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2lucHV0JywgW2IuYXR0cignZm9vJywgYi50ZXh0KCcnKSldLCBbYi5lbGVtZW50TW9kaWZpZXIoYi5wYXRoKCdiYXInKSldKV0pXG4gICk7XG59KTtcblxudGVzdCgnVG9rZW5pemVyOiBNdXN0YWNoZVN0YXRlbWVudCBlbmNvdW50ZXJlZCBpbiBhZnRlckF0dHJpYnV0ZU5hbWUgc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGlucHV0IGZvbyB7e2Jhcn19Pic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2lucHV0JywgW2IuYXR0cignZm9vJywgYi50ZXh0KCcnKSldLCBbYi5lbGVtZW50TW9kaWZpZXIoYi5wYXRoKCdiYXInKSldKV0pXG4gICk7XG59KTtcblxudGVzdCgnVG9rZW5pemVyOiBNdXN0YWNoZVN0YXRlbWVudCBlbmNvdW50ZXJlZCBpbiBhZnRlckF0dHJpYnV0ZVZhbHVlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxpbnB1dCBmb289MSB7e2Jhcn19Pic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtcbiAgICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbYi5hdHRyKCdmb28nLCBiLnRleHQoJzEnKSldLCBbYi5lbGVtZW50TW9kaWZpZXIoYi5wYXRoKCdiYXInKSldKSxcbiAgICBdKVxuICApO1xufSk7XG5cbnRlc3QoJ1Rva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYWZ0ZXJBdHRyaWJ1dGVWYWx1ZVF1b3RlZCBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9IFwiPGlucHV0IGZvbz0nMSd7e2Jhcn19PlwiO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLmVsZW1lbnQoJ2lucHV0JywgW2IuYXR0cignZm9vJywgYi50ZXh0KCcxJykpXSwgW2IuZWxlbWVudE1vZGlmaWVyKGIucGF0aCgnYmFyJykpXSksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdTdHJpcHBpbmcgLSBtdXN0YWNoZXMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnZm9vIHt7fmNvbnRlbnR9fSBiYXInO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW2IudGV4dCgnZm9vJyksIGIubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JykpLCBiLnRleHQoJyBiYXInKV0pKTtcblxuICB0ID0gJ2ZvbyB7e2NvbnRlbnR+fX0gYmFyJztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLnRleHQoJ2ZvbyAnKSwgYi5tdXN0YWNoZShiLnBhdGgoJ2NvbnRlbnQnKSksIGIudGV4dCgnYmFyJyldKSk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gYmxvY2tzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2ZvbyB7e34jd2F0fX17ey93YXR9fSBiYXInO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbYi50ZXh0KCdmb28nKSwgYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbSgpKSwgYi50ZXh0KCcgYmFyJyldKVxuICApO1xuXG4gIHQgPSAnZm9vIHt7I3dhdH19e3svd2F0fn19IGJhcic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLnRleHQoJ2ZvbyAnKSwgYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbSgpKSwgYi50ZXh0KCdiYXInKV0pXG4gICk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gcHJvZ3JhbXMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAne3sjd2F0fn19IGZvbyB7e2Vsc2V9fXt7L3dhdH19JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW2IuYmxvY2soYi5wYXRoKCd3YXQnKSwgW10sIGIuaGFzaCgpLCBiLnByb2dyYW0oW2IudGV4dCgnZm9vICcpXSksIGIucHJvZ3JhbSgpKV0pXG4gICk7XG5cbiAgdCA9ICd7eyN3YXR9fSBmb28ge3t+ZWxzZX19e3svd2F0fX0nO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbShbYi50ZXh0KCcgZm9vJyldKSwgYi5wcm9ncmFtKCkpXSlcbiAgKTtcblxuICB0ID0gJ3t7I3dhdH19e3tlbHNlfn19IGZvbyB7ey93YXR9fSc7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLmJsb2NrKGIucGF0aCgnd2F0JyksIFtdLCBiLmhhc2goKSwgYi5wcm9ncmFtKCksIGIucHJvZ3JhbShbYi50ZXh0KCdmb28gJyldKSldKVxuICApO1xuXG4gIHQgPSAne3sjd2F0fX17e2Vsc2V9fSBmb28ge3t+L3dhdH19JztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW2IuYmxvY2soYi5wYXRoKCd3YXQnKSwgW10sIGIuaGFzaCgpLCBiLnByb2dyYW0oKSwgYi5wcm9ncmFtKFtiLnRleHQoJyBmb28nKV0pKV0pXG4gICk7XG59KTtcblxudGVzdCgnU3RyaXBwaW5nIC0gcmVtb3ZlcyB1bm5lY2Vzc2FyeSB0ZXh0IG5vZGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3t7I2VhY2h+fX1cXG4gIDxsaT4gZm9vIDwvbGk+XFxue3t+L2VhY2h9fSc7XG5cbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi5ibG9jayhcbiAgICAgICAgYi5wYXRoKCdlYWNoJyksXG4gICAgICAgIFtdLFxuICAgICAgICBiLmhhc2goKSxcbiAgICAgICAgYi5wcm9ncmFtKFtiLmVsZW1lbnQoJ2xpJywgW10sIFtdLCBbYi50ZXh0KCcgZm9vICcpXSldKSxcbiAgICAgICAgbnVsbFxuICAgICAgKSxcbiAgICBdKVxuICApO1xufSk7XG5cbi8vIFRPRE86IE1ha2UgdGhlc2UgdGhyb3cgYW4gZXJyb3IuXG4vL3Rlc3QoXCJBd2t3YXJkIG11c3RhY2hlIGluIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbi8vICBsZXQgdCA9IFwiPGRpdiBjbGFzcz1he3tmb299fT48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pXSkpIF0pXG4vLyAgXSkpO1xuLy9cbi8vICB0ID0gXCI8ZGl2IGNsYXNzPWF7e2Zvb319Yj48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pLCBiLnN0cmluZyhcImJcIildKSkgXSlcbi8vICBdKSk7XG4vL1xuLy8gIHQgPSBcIjxkaXYgY2xhc3M9e3tmb299fWI+PC9kaXY+XCI7XG4vLyAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbi8vICAgIGIuZWxlbWVudCgnZGl2JywgWyBiLmF0dHIoJ2NsYXNzJywgY29uY2F0KFtiLnNleHByKFtiLnBhdGgoJ2ZvbycpXSksIGIuc3RyaW5nKFwiYlwiKV0pKSBdKVxuLy8gIF0pKTtcbi8vfSk7XG5cbnRlc3QoJ2FuIEhUTUwgY29tbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdiZWZvcmUgPCEtLSBzb21lIGNvbW1lbnQgLS0+IGFmdGVyJztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtiLnRleHQoJ2JlZm9yZSAnKSwgYi5jb21tZW50KCcgc29tZSBjb21tZW50ICcpLCBiLnRleHQoJyBhZnRlcicpXSkpO1xufSk7XG5cbnRlc3QoJ2EgSGFuZGxlYmFycyBjb21tZW50IGluc2lkZSBhbiBIVE1MIGNvbW1lbnQnLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnYmVmb3JlIDwhLS0gc29tZSB7eyEgbmVzdGVkIHRoaW5nIH19IGNvbW1lbnQgLS0+IGFmdGVyJztcbiAgYXN0RXF1YWwoXG4gICAgdCxcbiAgICBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCdiZWZvcmUgJyksXG4gICAgICBiLmNvbW1lbnQoJyBzb21lIHt7ISBuZXN0ZWQgdGhpbmcgfX0gY29tbWVudCAnKSxcbiAgICAgIGIudGV4dCgnIGFmdGVyJyksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdhIEhhbmRsZWJhcnMgY29tbWVudCcsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdiZWZvcmUge3shIHNvbWUgY29tbWVudCB9fSBhZnRlcic7XG4gIGFzdEVxdWFsKFxuICAgIHQsXG4gICAgYi5wcm9ncmFtKFtiLnRleHQoJ2JlZm9yZSAnKSwgYi5tdXN0YWNoZUNvbW1lbnQoJyBzb21lIGNvbW1lbnQgJyksIGIudGV4dCgnIGFmdGVyJyldKVxuICApO1xufSk7XG5cbnRlc3QoJ2EgSGFuZGxlYmFycyBjb21tZW50IGluIHByb3BlciBlbGVtZW50IHNwYWNlJywgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2JlZm9yZSA8ZGl2IHt7ISBzb21lIGNvbW1lbnQgfX0gZGF0YS1mb289XCJiYXJcIiB7eyEgb3RoZXIgY29tbWVudCB9fT48L2Rpdj4gYWZ0ZXInO1xuICBhc3RFcXVhbChcbiAgICB0LFxuICAgIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ2JlZm9yZSAnKSxcbiAgICAgIGIuZWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIFtiLmF0dHIoJ2RhdGEtZm9vJywgYi50ZXh0KCdiYXInKSldLFxuICAgICAgICBbXSxcbiAgICAgICAgW10sXG4gICAgICAgIFtiLm11c3RhY2hlQ29tbWVudCgnIHNvbWUgY29tbWVudCAnKSwgYi5tdXN0YWNoZUNvbW1lbnQoJyBvdGhlciBjb21tZW50ICcpXVxuICAgICAgKSxcbiAgICAgIGIudGV4dCgnIGFmdGVyJyksXG4gICAgXSlcbiAgKTtcbn0pO1xuXG50ZXN0KCdhIEhhbmRsZWJhcnMgY29tbWVudCBpbiBpbnZhbGlkIGVsZW1lbnQgc3BhY2UnLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ1xcbmJlZm9yZSA8ZGl2IFxcbiAgYXt7ISBzb21lIGNvbW1lbnQgfX0gZGF0YS1mb289XCJiYXJcIj48L2Rpdj4gYWZ0ZXInKTtcbiAgfSwgL1VzaW5nIGEgSGFuZGxlYmFycyBjb21tZW50IHdoZW4gaW4gdGhlIGBhdHRyaWJ1dGVOYW1lYCBzdGF0ZSBpcyBub3Qgc3VwcG9ydGVkOiBcIiBzb21lIGNvbW1lbnQgXCIgb24gbGluZSAzOjMvKTtcblxuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgnXFxuYmVmb3JlIDxkaXYgXFxuICBhPXt7ISBzb21lIGNvbW1lbnQgfX0gZGF0YS1mb289XCJiYXJcIj48L2Rpdj4gYWZ0ZXInKTtcbiAgfSwgL1VzaW5nIGEgSGFuZGxlYmFycyBjb21tZW50IHdoZW4gaW4gdGhlIGBiZWZvcmVBdHRyaWJ1dGVWYWx1ZWAgc3RhdGUgaXMgbm90IHN1cHBvcnRlZDogXCIgc29tZSBjb21tZW50IFwiIG9uIGxpbmUgMzo0Lyk7XG5cbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ1xcbmJlZm9yZSA8ZGl2IFxcbiAgYT1cInt7ISBzb21lIGNvbW1lbnQgfX1cIiBkYXRhLWZvbz1cImJhclwiPjwvZGl2PiBhZnRlcicpO1xuICB9LCAvVXNpbmcgYSBIYW5kbGViYXJzIGNvbW1lbnQgd2hlbiBpbiB0aGUgYGF0dHJpYnV0ZVZhbHVlRG91YmxlUXVvdGVkYCBzdGF0ZSBpcyBub3Qgc3VwcG9ydGVkOiBcIiBzb21lIGNvbW1lbnQgXCIgb24gbGluZSAzOjUvKTtcbn0pO1xuXG50ZXN0KCdhbGxvdyB7e251bGx9fSB0byBiZSBwYXNzZWQgYXMgaGVscGVyIG5hbWUnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKCd7e251bGx9fScpO1xuXG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtiLm11c3RhY2hlKGIubnVsbCgpKV0pKTtcbn0pO1xuXG50ZXN0KCdhbGxvdyB7e251bGx9fSB0byBiZSBwYXNzZWQgYXMgYSBwYXJhbScsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoJ3t7Zm9vIG51bGx9fScpO1xuXG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtiLm11c3RhY2hlKGIucGF0aCgnZm9vJyksIFtiLm51bGwoKV0pXSkpO1xufSk7XG5cbnRlc3QoJ2FsbG93IHt7dW5kZWZpbmVkfX0gdG8gYmUgcGFzc2VkIGFzIGhlbHBlciBuYW1lJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZSgne3t1bmRlZmluZWR9fScpO1xuXG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtiLm11c3RhY2hlKGIudW5kZWZpbmVkKCkpXSkpO1xufSk7XG5cbnRlc3QoJ2FsbG93IHt7dW5kZWZpbmVkfX0gdG8gYmUgcGFzc2VkIGFzIGEgcGFyYW0nLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKCd7e2ZvbyB1bmRlZmluZWR9fScpO1xuXG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtiLm11c3RhY2hlKGIucGF0aCgnZm9vJyksIFtiLnVuZGVmaW5lZCgpXSldKSk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBwYXJ0aWFsIHNob3VsZCBlcnJvcicsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgne3s+IGZvb319Jyk7XG4gIH0sIEVycm9yKGBIYW5kbGViYXJzIHBhcnRpYWxzIGFyZSBub3Qgc3VwcG9ydGVkOiBcInt7PiBmb29cIiBhdCBMMTpDMGApKTtcbn0pO1xuXG50ZXN0KCdIYW5kbGViYXJzIHBhcnRpYWwgYmxvY2sgc2hvdWxkIGVycm9yJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCd7eyM+IGZvb319e3svZm9vfX0nKTtcbiAgfSwgbmV3IEVycm9yKGBIYW5kbGViYXJzIHBhcnRpYWwgYmxvY2tzIGFyZSBub3Qgc3VwcG9ydGVkOiBcInt7Iz4gZm9vXCIgYXQgTDE6QzBgKSk7XG59KTtcblxudGVzdCgnSGFuZGxlYmFycyBkZWNvcmF0b3Igc2hvdWxkIGVycm9yJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCd7eyogZm9vfX0nKTtcbiAgfSwgbmV3IEVycm9yKGBIYW5kbGViYXJzIGRlY29yYXRvcnMgYXJlIG5vdCBzdXBwb3J0ZWQ6IFwie3sqIGZvb1wiIGF0IEwxOkMwYCkpO1xufSk7XG5cbnRlc3QoJ0hhbmRsZWJhcnMgZGVjb3JhdG9yIGJsb2NrIHNob3VsZCBlcnJvcicsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgne3sjKiBmb299fXt7L2Zvb319Jyk7XG4gIH0sIG5ldyBFcnJvcihgSGFuZGxlYmFycyBkZWNvcmF0b3IgYmxvY2tzIGFyZSBub3Qgc3VwcG9ydGVkOiBcInt7IyogZm9vXCIgYXQgTDE6QzBgKSk7XG59KTtcblxudGVzdCgnZGlzYWxsb3dlZCBtdXN0YWNoZXMgaW4gdGhlIHRhZ05hbWUgc3BhY2UnLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJzx7e1wiYXNkZlwifX0+PC97e1wiYXNkZlwifX0+Jyk7XG4gIH0sIC9DYW5ub3QgdXNlIG11c3RhY2hlcyBpbiBhbiBlbGVtZW50cyB0YWduYW1lOiBge3tcImFzZGZcImAgYXQgTDE6QzEvKTtcblxuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSgnPGlucHV0e3tiYXJ9fT4nKTtcbiAgfSwgL0Nhbm5vdCB1c2UgbXVzdGFjaGVzIGluIGFuIGVsZW1lbnRzIHRhZ25hbWU6IGB7e2JhcmAgYXQgTDE6QzYvKTtcbn0pO1xuXG50ZXN0KCdtdXN0YWNoZSBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBzZWxmIGNsb3NpbmcgdGFnIGRvZXMgbm90IGVycm9yJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZSgnPEZvb0JhciBkYXRhLWZvbz17e2JsYWh9fS8+Jyk7XG4gIGxldCBlbGVtZW50ID0gYi5lbGVtZW50KCdGb29CYXInLCBbYi5hdHRyKCdkYXRhLWZvbycsIGIubXVzdGFjaGUoJ2JsYWgnKSldKTtcbiAgZWxlbWVudC5zZWxmQ2xvc2luZyA9IHRydWU7XG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtlbGVtZW50XSkpO1xufSk7XG5cbnRlc3QoJ3BhdGggZXhwcmVzc2lvbiB3aXRoIFwiZGFuZ2xpbmcgZG90XCIgdGhyb3dzIGVycm9yJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCd7e2lmIGZvby4gYmFyIGJhen19Jyk7XG4gIH0sIC8nXFwuJyBpcyBub3QgYSBzdXBwb3J0ZWQgcGF0aCBpbiBHbGltbWVyOyBjaGVjayBmb3IgYSBwYXRoIHdpdGggYSB0cmFpbGluZyAnXFwuJyBhdCBMMTpDOC8pO1xufSk7XG4iXX0=